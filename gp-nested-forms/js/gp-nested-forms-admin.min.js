!function(e,i){e=function(){var o=this;o.init=function(){o.$formSelect=i("#gpnf-form"),o.$fieldSelect=i("#gpnf-fields"),o.$formSettings=i("#gpnf-form-settings"),o.$entryLabelSingular=i("#gpnf-entry-label-singular"),o.$entryLabelPlural=i("#gpnf-entry-label-plural"),o.$entryLimitMin=i("#gpnf-entry-limit-min"),o.$entryLimitMax=i("#gpnf-entry-limit-max"),o.$feedProcessing=i("#gpnf-feed-processing"),o.$modalHeaderColor=i("#gpnf-modal-header-color"),i(document).bind("gform_load_field_settings",function(e,n,l){if("form"==n.type){var t=n.gpnfForm;o.$entryLabelSingular.val(n.gpnfEntryLabelSingular),o.$entryLabelPlural.val(n.gpnfEntryLabelPlural),o.$entryLimitMin.val(n.gpnfEntryLimitMin),o.$entryLimitMax.val(n.gpnfEntryLimitMax),o.$feedProcessing.val(o.getFeedProcessingSetting(n)),o.$modalHeaderColor.val(n.gpnfModalHeaderColor),i("#chip_gpnf-modal-header-color").css("background-color",n.gpnfModalHeaderColor),o.$formSelect.val(t),o.$formSettings.hide(),t&&o.getFormFields(t,n.gpnfFields)}}),i("#chooser_gpnf-modal-header-color, #chip_gpnf-modal-header-color").click(function(e){iColorShow(e.pageX,e.pageY,"gpnf-modal-header-color","gpnfSetModalHeaderColor")}),i().add(o.$entryLabelSingular).add(o.$entryLabelPlural).on("change",function(){RefreshSelectedFieldPreview()})},o.toggleNestedFormFields=function(){o.$formSelect.val()?o.getFormFields(this.$formSelect.val()):o.$formSettings.slideUp()},o.setFieldsSelect=function(e,n){for(var l=[],t=0;t<e.length;t++)-1===i.inArray(e[t].type,["page","html","section","captcha"])&&l.push('<option value="'+e[t].id+'">'+GetLabel(e[t])+"</option>");o.$formSettings.show(),o.$fieldSelect.html(l.join("")).val(n),void 0!==i.fn.selectWoo?o.$fieldSelect.selectWoo({placeholder:GPNFAdminData.strings.displayFieldsPlaceholder}):o.$fieldSelect.select2({placeholder:GPNFAdminData.strings.displayFieldsPlaceholder}),o.$fieldSelect.on("select2:select select2:unselect",function(){RefreshSelectedFieldPreview()}).on("select2:unselecting",function(){var e=i(this).data("select2").options;e.set("disabled",!0),setTimeout(function(){e.set("disabled",!1)},1)}),i.each(o.$fieldSelect.data("select2"),function(e,n){n instanceof jQuery&&n.addClass(void 0!==i.fn.selectWoo?"gpnf-selectwoo":"gpnf-select2")}),o.$formSettings.hide().slideDown()},o.getFormFields=function(e,n){var l=gfAjaxSpinner(o.$formSelect,null,"position:relative;top:6px;left:6px;");i.post(ajaxurl,{action:"gpnf_get_form_fields",nonce:GPNFAdminData.nonces.getFormFields,form_id:e},function(e){l.destroy(),"object"==typeof e?o.setFieldsSelect(e,n):alert(GPNFAdminData.strings.getFormFieldsError)})},o.getFeedProcessingSetting=function(e){return e.gpnfFeedProcessing?e.gpnfFeedProcessing:"parent"},o.init()},window.gpnfSetModalHeaderColor=function(e){SetFieldProperty("gpnfModalHeaderColor",e)},i(document).ready(function(){window.gpGlobals||(window.gpGlobals={}),window.gpGlobals.GPNFAdmin=new e})}(window.GPNFAdmin=window.GPNFAdmin||{},jQuery);
//# sourceMappingURL=gp-nested-forms-admin.js.map